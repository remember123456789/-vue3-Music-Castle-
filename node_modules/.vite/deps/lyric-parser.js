import {
  __commonJS
} from "./chunk-UXIASGQL.js";

// node_modules/lyric-parser/dist/lyric.js
var require_lyric = __commonJS({
  "node_modules/lyric-parser/dist/lyric.js"(exports, module) {
    (function webpackUniversalModuleDefinition(root, factory) {
      if (typeof exports === "object" && typeof module === "object")
        module.exports = factory();
      else if (typeof define === "function" && define.amd)
        define([], factory);
      else if (typeof exports === "object")
        exports["Lyric"] = factory();
      else
        root["Lyric"] = factory();
    })(exports, function() {
      return (
        /******/
        function(modules) {
          var installedModules = {};
          function __webpack_require__(moduleId) {
            if (installedModules[moduleId])
              return installedModules[moduleId].exports;
            var module2 = installedModules[moduleId] = {
              /******/
              i: moduleId,
              /******/
              l: false,
              /******/
              exports: {}
              /******/
            };
            modules[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
            module2.l = true;
            return module2.exports;
          }
          __webpack_require__.m = modules;
          __webpack_require__.c = installedModules;
          __webpack_require__.i = function(value) {
            return value;
          };
          __webpack_require__.d = function(exports2, name, getter) {
            if (!__webpack_require__.o(exports2, name)) {
              Object.defineProperty(exports2, name, {
                /******/
                configurable: false,
                /******/
                enumerable: true,
                /******/
                get: getter
                /******/
              });
            }
          };
          __webpack_require__.n = function(module2) {
            var getter = module2 && module2.__esModule ? (
              /******/
              function getDefault() {
                return module2["default"];
              }
            ) : (
              /******/
              function getModuleExports() {
                return module2;
              }
            );
            __webpack_require__.d(getter, "a", getter);
            return getter;
          };
          __webpack_require__.o = function(object, property) {
            return Object.prototype.hasOwnProperty.call(object, property);
          };
          __webpack_require__.p = "";
          return __webpack_require__(__webpack_require__.s = 20);
        }([
          /* 0 */
          /***/
          function(module2, exports2, __webpack_require__) {
            module2.exports = !__webpack_require__(3)(function() {
              return Object.defineProperty({}, "a", { get: function() {
                return 7;
              } }).a != 7;
            });
          },
          /* 1 */
          /***/
          function(module2, exports2) {
            module2.exports = function(it) {
              return typeof it === "object" ? it !== null : typeof it === "function";
            };
          },
          /* 2 */
          /***/
          function(module2, exports2) {
            var core = module2.exports = { version: "2.4.0" };
            if (typeof __e == "number")
              __e = core;
          },
          /* 3 */
          /***/
          function(module2, exports2) {
            module2.exports = function(exec) {
              try {
                return !!exec();
              } catch (e) {
                return true;
              }
            };
          },
          /* 4 */
          /***/
          function(module2, exports2) {
            var global = module2.exports = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self : Function("return this")();
            if (typeof __g == "number")
              __g = global;
          },
          /* 5 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var anObject = __webpack_require__(11), IE8_DOM_DEFINE = __webpack_require__(16), toPrimitive = __webpack_require__(18), dP = Object.defineProperty;
            exports2.f = __webpack_require__(0) ? Object.defineProperty : function defineProperty(O, P, Attributes) {
              anObject(O);
              P = toPrimitive(P, true);
              anObject(Attributes);
              if (IE8_DOM_DEFINE)
                try {
                  return dP(O, P, Attributes);
                } catch (e) {
                }
              if ("get" in Attributes || "set" in Attributes)
                throw TypeError("Accessors not supported!");
              if ("value" in Attributes)
                O[P] = Attributes.value;
              return O;
            };
          },
          /* 6 */
          /***/
          function(module2, exports2, __webpack_require__) {
            "use strict";
            exports2.__esModule = true;
            exports2.default = function(instance, Constructor) {
              if (!(instance instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            };
          },
          /* 7 */
          /***/
          function(module2, exports2, __webpack_require__) {
            "use strict";
            exports2.__esModule = true;
            var _defineProperty = __webpack_require__(8);
            var _defineProperty2 = _interopRequireDefault(_defineProperty);
            function _interopRequireDefault(obj) {
              return obj && obj.__esModule ? obj : { default: obj };
            }
            exports2.default = function() {
              function defineProperties(target, props) {
                for (var i = 0; i < props.length; i++) {
                  var descriptor = props[i];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  (0, _defineProperty2.default)(target, descriptor.key, descriptor);
                }
              }
              return function(Constructor, protoProps, staticProps) {
                if (protoProps)
                  defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  defineProperties(Constructor, staticProps);
                return Constructor;
              };
            }();
          },
          /* 8 */
          /***/
          function(module2, exports2, __webpack_require__) {
            module2.exports = { "default": __webpack_require__(9), __esModule: true };
          },
          /* 9 */
          /***/
          function(module2, exports2, __webpack_require__) {
            __webpack_require__(19);
            var $Object = __webpack_require__(2).Object;
            module2.exports = function defineProperty(it, key, desc) {
              return $Object.defineProperty(it, key, desc);
            };
          },
          /* 10 */
          /***/
          function(module2, exports2) {
            module2.exports = function(it) {
              if (typeof it != "function")
                throw TypeError(it + " is not a function!");
              return it;
            };
          },
          /* 11 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject = __webpack_require__(1);
            module2.exports = function(it) {
              if (!isObject(it))
                throw TypeError(it + " is not an object!");
              return it;
            };
          },
          /* 12 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var aFunction = __webpack_require__(10);
            module2.exports = function(fn, that, length) {
              aFunction(fn);
              if (that === void 0)
                return fn;
              switch (length) {
                case 1:
                  return function(a) {
                    return fn.call(that, a);
                  };
                case 2:
                  return function(a, b) {
                    return fn.call(that, a, b);
                  };
                case 3:
                  return function(a, b, c) {
                    return fn.call(that, a, b, c);
                  };
              }
              return function() {
                return fn.apply(that, arguments);
              };
            };
          },
          /* 13 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject = __webpack_require__(1), document = __webpack_require__(4).document, is = isObject(document) && isObject(document.createElement);
            module2.exports = function(it) {
              return is ? document.createElement(it) : {};
            };
          },
          /* 14 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var global = __webpack_require__(4), core = __webpack_require__(2), ctx = __webpack_require__(12), hide = __webpack_require__(15), PROTOTYPE = "prototype";
            var $export = function(type, name, source) {
              var IS_FORCED = type & $export.F, IS_GLOBAL = type & $export.G, IS_STATIC = type & $export.S, IS_PROTO = type & $export.P, IS_BIND = type & $export.B, IS_WRAP = type & $export.W, exports3 = IS_GLOBAL ? core : core[name] || (core[name] = {}), expProto = exports3[PROTOTYPE], target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE], key, own, out;
              if (IS_GLOBAL)
                source = name;
              for (key in source) {
                own = !IS_FORCED && target && target[key] !== void 0;
                if (own && key in exports3)
                  continue;
                out = own ? target[key] : source[key];
                exports3[key] = IS_GLOBAL && typeof target[key] != "function" ? source[key] : IS_BIND && own ? ctx(out, global) : IS_WRAP && target[key] == out ? function(C) {
                  var F = function(a, b, c) {
                    if (this instanceof C) {
                      switch (arguments.length) {
                        case 0:
                          return new C();
                        case 1:
                          return new C(a);
                        case 2:
                          return new C(a, b);
                      }
                      return new C(a, b, c);
                    }
                    return C.apply(this, arguments);
                  };
                  F[PROTOTYPE] = C[PROTOTYPE];
                  return F;
                }(out) : IS_PROTO && typeof out == "function" ? ctx(Function.call, out) : out;
                if (IS_PROTO) {
                  (exports3.virtual || (exports3.virtual = {}))[key] = out;
                  if (type & $export.R && expProto && !expProto[key])
                    hide(expProto, key, out);
                }
              }
            };
            $export.F = 1;
            $export.G = 2;
            $export.S = 4;
            $export.P = 8;
            $export.B = 16;
            $export.W = 32;
            $export.U = 64;
            $export.R = 128;
            module2.exports = $export;
          },
          /* 15 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var dP = __webpack_require__(5), createDesc = __webpack_require__(17);
            module2.exports = __webpack_require__(0) ? function(object, key, value) {
              return dP.f(object, key, createDesc(1, value));
            } : function(object, key, value) {
              object[key] = value;
              return object;
            };
          },
          /* 16 */
          /***/
          function(module2, exports2, __webpack_require__) {
            module2.exports = !__webpack_require__(0) && !__webpack_require__(3)(function() {
              return Object.defineProperty(__webpack_require__(13)("div"), "a", { get: function() {
                return 7;
              } }).a != 7;
            });
          },
          /* 17 */
          /***/
          function(module2, exports2) {
            module2.exports = function(bitmap, value) {
              return {
                enumerable: !(bitmap & 1),
                configurable: !(bitmap & 2),
                writable: !(bitmap & 4),
                value
              };
            };
          },
          /* 18 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject = __webpack_require__(1);
            module2.exports = function(it, S) {
              if (!isObject(it))
                return it;
              var fn, val;
              if (S && typeof (fn = it.toString) == "function" && !isObject(val = fn.call(it)))
                return val;
              if (typeof (fn = it.valueOf) == "function" && !isObject(val = fn.call(it)))
                return val;
              if (!S && typeof (fn = it.toString) == "function" && !isObject(val = fn.call(it)))
                return val;
              throw TypeError("Can't convert object to primitive value");
            };
          },
          /* 19 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var $export = __webpack_require__(14);
            $export($export.S + $export.F * !__webpack_require__(0), "Object", { defineProperty: __webpack_require__(5).f });
          },
          /* 20 */
          /***/
          function(module2, exports2, __webpack_require__) {
            var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
            (function(global, factory) {
              if (true) {
                !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module2, exports2, __webpack_require__(6), __webpack_require__(7)], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports2, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== void 0 && (module2.exports = __WEBPACK_AMD_DEFINE_RESULT__));
              } else if (typeof exports2 !== "undefined") {
                factory(module2, exports2, null, null);
              } else {
                var mod = {
                  exports: {}
                };
                factory(mod, mod.exports, global.classCallCheck, global.createClass);
                global.index = mod.exports;
              }
            })(this, function(module3, exports3, _classCallCheck2, _createClass2) {
              "use strict";
              Object.defineProperty(exports3, "__esModule", {
                value: true
              });
              var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
              var _createClass3 = _interopRequireDefault(_createClass2);
              function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                  default: obj
                };
              }
              var timeExp = /\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g;
              var STATE_PAUSE = 0;
              var STATE_PLAYING = 1;
              var tagRegMap = {
                title: "ti",
                artist: "ar",
                album: "al",
                offset: "offset",
                by: "by"
              };
              function noop() {
              }
              var Lyric = function() {
                function Lyric2(lrc) {
                  var hanlder = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : noop;
                  (0, _classCallCheck3.default)(this, Lyric2);
                  this.lrc = lrc;
                  this.tags = {};
                  this.lines = [];
                  this.handler = hanlder;
                  this.state = STATE_PAUSE;
                  this.curLine = 0;
                  this._init();
                }
                (0, _createClass3.default)(Lyric2, [{
                  key: "_init",
                  value: function _init() {
                    this._initTag();
                    this._initLines();
                  }
                }, {
                  key: "_initTag",
                  value: function _initTag() {
                    for (var tag in tagRegMap) {
                      var matches = this.lrc.match(new RegExp("\\[" + tagRegMap[tag] + ":([^\\]]*)]", "i"));
                      this.tags[tag] = matches && matches[1] || "";
                    }
                  }
                }, {
                  key: "_initLines",
                  value: function _initLines() {
                    var lines = this.lrc.split("\n");
                    for (var i = 0; i < lines.length; i++) {
                      var line = lines[i];
                      var result = timeExp.exec(line);
                      if (result) {
                        var txt = line.replace(timeExp, "").trim();
                        if (txt) {
                          this.lines.push({
                            time: result[1] * 60 * 1e3 + result[2] * 1e3 + (result[3] || 0) * 10,
                            txt
                          });
                        }
                      }
                    }
                    this.lines.sort(function(a, b) {
                      return a.time - b.time;
                    });
                  }
                }, {
                  key: "_findCurNum",
                  value: function _findCurNum(time) {
                    for (var i = 0; i < this.lines.length; i++) {
                      if (time <= this.lines[i].time) {
                        return i;
                      }
                    }
                    return this.lines.length - 1;
                  }
                }, {
                  key: "_callHandler",
                  value: function _callHandler(i) {
                    if (i < 0) {
                      return;
                    }
                    this.handler({
                      txt: this.lines[i].txt,
                      lineNum: i
                    });
                  }
                }, {
                  key: "_playRest",
                  value: function _playRest() {
                    var _this = this;
                    var line = this.lines[this.curNum];
                    var delay = line.time - (+/* @__PURE__ */ new Date() - this.startStamp);
                    this.timer = setTimeout(function() {
                      _this._callHandler(_this.curNum++);
                      if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {
                        _this._playRest();
                      }
                    }, delay);
                  }
                }, {
                  key: "play",
                  value: function play() {
                    var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                    var skipLast = arguments[1];
                    if (!this.lines.length) {
                      return;
                    }
                    this.state = STATE_PLAYING;
                    this.curNum = this._findCurNum(startTime);
                    this.startStamp = +/* @__PURE__ */ new Date() - startTime;
                    if (!skipLast) {
                      this._callHandler(this.curNum - 1);
                    }
                    if (this.curNum < this.lines.length) {
                      clearTimeout(this.timer);
                      this._playRest();
                    }
                  }
                }, {
                  key: "togglePlay",
                  value: function togglePlay() {
                    var now = +/* @__PURE__ */ new Date();
                    if (this.state === STATE_PLAYING) {
                      this.stop();
                      this.pauseStamp = now;
                    } else {
                      this.state = STATE_PLAYING;
                      this.play((this.pauseStamp || now) - (this.startStamp || now), true);
                      this.pauseStamp = 0;
                    }
                  }
                }, {
                  key: "stop",
                  value: function stop() {
                    this.state = STATE_PAUSE;
                    clearTimeout(this.timer);
                  }
                }, {
                  key: "seek",
                  value: function seek(offset) {
                    this.play(offset);
                  }
                }]);
                return Lyric2;
              }();
              exports3.default = Lyric;
              module3.exports = exports3["default"];
            });
          }
          /******/
        ])
      );
    });
  }
});
export default require_lyric();
//# sourceMappingURL=lyric-parser.js.map
