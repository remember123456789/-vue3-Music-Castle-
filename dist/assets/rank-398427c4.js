import{t as q,v as D,u as A,f as $,I as P,e as E,L as V,x as T,M as z,N as C,m as i,g as v,k as f,y as a,j as d,q as t,z as L,i as H,O as U,P as K,Q as j,R as G,D as S,S as J,_ as R,J as Q,K as W,w as X,a as Y,B as b,F as Z,l as ee,T as te,A as w,G as se,H as ae}from"./index-16ebe1dd.js";const oe={class:"container-bottom",style:{"border-radius":"30px"}},ne={class:"card-header"},le=q({__name:"songList",props:{id:{type:Number,default:19723756}},setup(p){const u=p,{proxy:x}=D(),e=A(),y=$(),_=P();let r=E({song:[],tableData:[]});function h(c){var n=parseInt(c%36e5/6e4),l=c%(1e3*60)/1e3,g=(n<10?"0"+n:n)+":"+(l<10?"0"+l:l);return g}const o=async()=>{r.tableData.length!==0&&(r.tableData=[]),_.showLoading();let c=await x.$http.getMenuSongList({id:u.id});try{c.songs.map(n=>{r.tableData.push({id:r.tableData.length+1,date:n.name,songer:n.ar[0].name,name:n.al.name,time:h(n.dt),menuicId:n.id,songerid:n.ar.id}),r.isLoading=!1}),_.hideLoading()}catch{}},s=c=>{y.push({name:"song",query:{id:c.menuicId}})};return V(()=>{e.query.id&&o()}),(c,n)=>{const l=T("CaretRight"),g=U,I=K,B=T("ElementPlus"),m=j,F=G,M=S,N=J,O=z("load");return C((v(),f("div",oe,[a(M,{class:"box-card"},{header:d(()=>[t("div",ne,[a(I,{type:"warning",style:{"margin-left":"500px"}},{default:d(()=>[a(g,null,{default:d(()=>[a(l)]),_:1}),L("播放全部")]),_:1}),a(I,{round:""},{default:d(()=>[a(g,null,{default:d(()=>[a(B)]),_:1}),L("收藏")]),_:1})])]),default:d(()=>[C((v(),H(F,{data:i(r).tableData,"element-loading-text":"Loading...",style:{width:"100%","font-size":"14px"},onRowClick:s},{default:d(()=>[a(m,{prop:"id",label:"序号",width:"70"}),a(m,{prop:"date",label:"歌曲",width:"160"}),a(m,{prop:"songer",label:"歌手",width:"160"}),a(m,{prop:"name",label:"专辑",width:"180"}),a(m,{prop:"time",label:"时常"})]),_:1},8,["data"])),[[N,i(r).isLoading]])]),_:1})])),[[O,i(_).Loading]])}}});const ie=R(le,[["__scopeId","data-v-e5e4cb84"]]);const k=p=>(se("data-v-28127f2a"),p=p(),ae(),p),ce={class:"container"},re={class:"conteainer-left"},de={class:"el-image"},_e={class:"userinfo"},pe={class:"user-image"},ue=k(()=>t("div",{class:"user-name"}," 网易云音乐 ",-1)),he=k(()=>t("div",{class:"updata-time"}," 2014-06-30 ",-1)),ge={class:"desc"},me=k(()=>t("h2",null,"简介",-1)),ve={class:"container-right"},ye={class:"rank-aside"},fe={class:"rank-type"},xe={class:"rank-list"},be=["onClick"],we={style:{"margin-left":"15px","text-overflow":"ellipsis"}},ke={class:"span-image"},Ie=["src"],Te={__name:"rank",setup(p){const{proxy:u}=D(),x=$();let e=E({list:[],type:"Top",listTop:[],listFeature:[],listOuther:[],uid:19723756,playlist:{},info_index:0});const y=async()=>{let o=await u.$http.getAllRankList();o.code!==200&&u.$mes.error("请求数据失败");try{e.listTop=o.list.filter(s=>s.ToplistType),e.listFeature=o.list.filter(s=>s.name.includes("云音乐")),e.listOuther=o.list.filter(s=>!s.name.includes("云音乐")&&!s.ToplistType),e.list=e.type?e["list"+e.type]:e.listTop,e.uid=e.uid?e.uid:e.listTop[0].id,h()}catch{}};Q(()=>{console.log("首次载入")}),W(()=>{console.log("组件卸载")});const _=o=>{e.type=o,y()},r=o=>{e.uid=o.id,x.push({path:"rank",query:{id:o.id}}),h()},h=async()=>{let o=await u.$http.getMenuId({id:e.uid});e.playlist=o.playlist};return X(e.uid,()=>{h()}),Y(()=>{y()}),(o,s)=>{const c=te,n=S;return v(),f("div",ce,[t("div",re,[t("div",de,[a(c,{style:{width:"100%",height:"100%"},src:i(e).playlist.coverImgUrl,fit:o.fit},null,8,["src","fit"])]),a(n,{class:"box-card",style:{width:"480px",height:"250px","margin-left":"20px"}},{default:d(()=>[t("h1",null,w(i(e).playlist.name),1),t("div",_e,[t("div",pe,[a(c,{src:i(e).playlist.coverImgUrl,style:{width:"32px",height:"32px"}},null,8,["src"])]),ue,he]),t("div",ge,[me,t("span",null,w(i(e).playlist.description),1)])]),_:1})]),t("div",ve,[t("div",ye,[t("div",fe,[t("span",{onClick:s[0]||(s[0]=l=>_("Top")),class:b({active:i(e).type=="Top"})},"Top榜",2),t("span",{onClick:s[1]||(s[1]=l=>_("Feature")),class:b({active:i(e).type=="Feature"})},"特色榜",2),t("span",{onClick:s[2]||(s[2]=l=>_("Outher")),class:b({active:i(e).type=="Outher"})},"场景榜",2)]),t("div",xe,[(v(!0),f(Z,null,ee(i(e).list,l=>(v(),f("span",{key:l.id,onClick:g=>r(l)},[t("h3",we,w(l.name),1),t("div",ke,[t("img",{src:l.coverImgUrl,alt:"",style:{width:"40px",height:"40px","border-radius":"10px"}},null,8,Ie)])],8,be))),128))])])]),a(ie,{id:i(e).uid},null,8,["id"])])}}},Le=R(Te,[["__scopeId","data-v-28127f2a"]]);export{Le as default};
