import{t as F,v as T,u as M,f as L,e as D,H as N,x as C,g,k as y,G as o,j as r,q as e,A as I,I as O,m as i,i as P,J as q,K as V,L as z,M as A,E,N as U,_ as $,w as K,a as j,z as b,F as G,l as H,O as J,B as x,C as Q,D as W}from"./index-f89ee6ce.js";/* empty css                */const X={class:"container-bottom",style:{"border-radius":"30px"}},Y={class:"card-header"},Z=F({__name:"songList",props:{id:{type:Number,default:19723756}},setup(d){const p=d,{proxy:f}=T(),t=M(),m=L();let n=D({song:[],tableData:[]});const v=async()=>{n.tableData.length!==0&&(n.tableData=[]);let s=await f.$http.getMenuSongList({id:p.id});console.log(s);let a=s.songs.map(async l=>new Promise(u=>{n.tableData.push({id:n.tableData.length+1,date:l.name,songer:l.ar[0].name,name:l.al.name,time:l.dt,menuicId:l.id,songerid:l.ar.id}),n.isLoading=!1}));console.log(n.tableData),await Promise.all(a)},_=s=>{m.push({name:"song",query:{id:s.menuicId}})};return N(()=>{t.query.id&&v()}),(s,a)=>{const l=C("CaretRight"),u=q,c=V,k=C("ElementPlus"),h=z,R=A,S=E,B=U;return g(),y("div",X,[o(S,{class:"box-card"},{header:r(()=>[e("div",Y,[o(c,{type:"warning",style:{"margin-left":"500px"}},{default:r(()=>[o(u,null,{default:r(()=>[o(l)]),_:1}),I("播放全部")]),_:1}),o(c,{round:""},{default:r(()=>[o(u,null,{default:r(()=>[o(k)]),_:1}),I("收藏")]),_:1})])]),default:r(()=>[O((g(),P(R,{data:i(n).tableData,"element-loading-text":"Loading...",style:{width:"100%","font-size":"14px"},onRowClick:_},{default:r(()=>[o(h,{prop:"id",label:"序号",width:"70"}),o(h,{prop:"date",label:"歌曲",width:"160"}),o(h,{prop:"songer",label:"歌手",width:"160"}),o(h,{prop:"name",label:"专辑",width:"180"}),o(h,{prop:"time",label:"时常"})]),_:1},8,["data"])),[[B,i(n).isLoading]])]),_:1})])}}});const tt=$(Z,[["__scopeId","data-v-b85d0dc0"]]);const w=d=>(Q("data-v-1fd26951"),d=d(),W(),d),et={class:"container"},st={class:"conteainer-left"},at={class:"el-image"},ot={class:"userinfo"},nt={class:"user-image"},lt=w(()=>e("div",{class:"user-name"}," 网易云音乐 ",-1)),it=w(()=>e("div",{class:"updata-time"}," 2014-06-30 ",-1)),ct={class:"desc"},rt=w(()=>e("h2",null,"简介",-1)),dt={class:"container-right"},pt={class:"rank-aside"},_t={class:"rank-type"},ut={class:"rank-list"},ht=["onClick"],gt={style:{"margin-left":"15px","text-overflow":"ellipsis"}},mt={class:"span-image"},yt=["src"],ft={__name:"rank",setup(d){const{proxy:p}=T(),f=L();let t=D({list:[],type:"Top",listTop:[],listFeature:[],listOuther:[],uid:19723756,playlist:{},info_index:0});const m=async()=>{let s=await p.$http.getAllRankList();s.code!==200&&p.$mes.error("请求数据失败");try{t.listTop=s.list.filter(a=>a.ToplistType),t.listFeature=s.list.filter(a=>a.name.includes("云音乐")),t.listOuther=s.list.filter(a=>!a.name.includes("云音乐")&&!a.ToplistType),t.list=t.type?t["list"+t.type]:t.listTop,t.uid=t.uid?t.uid:t.listTop[0].id,_()}catch{}},n=s=>{t.type=s,m()},v=s=>{t.uid=s.id,f.push({path:"rank",query:{id:s.id}}),_()},_=async()=>{let s=await p.$http.getMenuId({id:t.uid});t.playlist=s.playlist};return K(t.uid,()=>{_()}),j(()=>{m()}),(s,a)=>{const l=J,u=E;return g(),y("div",et,[e("div",st,[e("div",at,[o(l,{style:{width:"100%",height:"100%"},src:i(t).playlist.coverImgUrl,fit:s.fit},null,8,["src","fit"])]),o(u,{class:"box-card",style:{width:"480px",height:"250px","margin-left":"20px"}},{default:r(()=>[e("h1",null,x(i(t).playlist.name),1),e("div",ot,[e("div",nt,[o(l,{src:i(t).playlist.coverImgUrl,style:{width:"32px",height:"32px"}},null,8,["src"])]),lt,it]),e("div",ct,[rt,e("span",null,x(i(t).playlist.description),1)])]),_:1})]),e("div",dt,[e("div",pt,[e("div",_t,[e("span",{onClick:a[0]||(a[0]=c=>n("Top")),class:b({active:i(t).type=="Top"})},"Top榜",2),e("span",{onClick:a[1]||(a[1]=c=>n("Feature")),class:b({active:i(t).type=="Feature"})},"特色榜",2),e("span",{onClick:a[2]||(a[2]=c=>n("Outher")),class:b({active:i(t).type=="Outher"})},"场景榜",2)]),e("div",ut,[(g(!0),y(G,null,H(i(t).list,c=>(g(),y("span",{onClick:k=>v(c)},[e("h3",gt,x(c.name),1),e("div",mt,[e("img",{src:c.coverImgUrl,alt:"",style:{width:"40px",height:"40px","border-radius":"10px"}},null,8,yt)])],8,ht))),256))])])]),o(tt,{id:i(t).uid},null,8,["id"])])}}},xt=$(ft,[["__scopeId","data-v-1fd26951"]]);export{xt as default};
